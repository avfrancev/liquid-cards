{"version":3,"sources":["webpack:///./src/lib/canvas.coffee","webpack:///./src/components/AVF-Transition/index.coffee","webpack:///./src/components/Explode.vue?1591","webpack:///./src/components/Explode.vue?6abf","webpack:///src/App.vue","webpack:///./src/components/Explode.vue","webpack:///./src/App.vue?0954","webpack:///./src/App.vue","webpack:///./src/main.coffee"],"names":["getOffset","pixelate","rand","min","max","Math","floor","random","el","_x","_y","isNaN","offsetLeft","offsetTop","scrollLeft","scrollTop","offsetParent","top","left","canvas","ctx","img","ind","v","a","b","data","g","h","i","index","length","pixelArray","r","size","w","width","height","drawImage","getImageData","arr","push","_extends","Object","assign","target","arguments","source","key","prototype","hasOwnProperty","call","index_coffee","functional","render","createElement","context","props","name","tag","on","enter","done","tl","getAttribute","TweenMax","from","opacity","y","ease","easeOut","config","onComplete","children","Explode__extends","Explode","components","avf-transition","cards","cardz","cardsCount","created","this","fetchCards","methods","id","j","ref","results","loading","Date","getTime","author","en_default","findName","avatar","image","title","lorem","words","image_src","_i","card","results1","k","len","ref1","axios_default","get","then","x","Image","onload","$set","indexOf","request","responseURL","src","catch","err","console","log","$delete","addCard","nextCardId","removeCard","$card","$el","querySelector","[object Object]","OFFSET","SPREAD","$image","crossOrigin","init","bind","e","colorData","hCtx","c","document","getContext","$card__image","hCanvas","offsetWidth","offsetHeight","colors","map","prepareCanvas","parentElement","appendChild","l","m","imgPos","getBoundingClientRect","style","position","display","circles","clearRect","fillStyle","beginPath","progress","alpha","dAlpha","color","dx","dy","arc","PI","fill","onReady","globalAlpha","animateRemove","set","transition","fromTo","to","scale","Expo","easeInOut","splice","cind","onUpdate","animate","remove","components_Explode","_vm","_h","$createElement","_c","_self","attrs","_l","staticClass","avf-id","_e","staticStyle","text-align","_v","click","$event","_s","staticRenderFns","App","__webpack_require__","normalizeComponent","ssrContext","selectortype_template_index_0_src_App","xmlns","version","in","stdDeviation","result","mode","values","src_App","App_normalizeComponent","vue_esm","productionTip","template"],"mappings":"mJAAAA,EAAAC,EAAAC,0BAEAA,EAAO,SAACC,EAAIC,UACVD,EAAME,KAAKC,MAAOD,KAAKE,UAAYH,EAAMD,KAE3CH,EAAY,SAACQ,GACX,IAAAC,EAAAC,EAEA,IAFAD,EAAK,EACLC,EAAK,EACCF,IAAQG,MAAMH,EAAGI,cAAiBD,MAAMH,EAAGK,YAC/CJ,GAAMD,EAAGI,WAAcJ,EAAGM,WAC1BJ,GAAMF,EAAGK,UAAaL,EAAGO,UACzBP,EAAKA,EAAGQ,oBAERC,IAAKP,EACLQ,KAAMT,IAGVR,EAAW,SAACkB,EAAQC,EAAKC,EAAKC,EAAKC,GAIjC,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAiBA,IAjBAD,EAAW,IAAJX,EACPY,EAAI9B,KAAKC,MAAMa,EAAOiB,MAAQF,GAC9BN,EAAIvB,KAAKC,MAAMa,EAAOkB,OAASH,GAC/Bd,EAAIkB,UAAUjB,EAAK,EAAG,EAAGc,EAAGP,GAC5BR,EAAIkB,UAAUnB,EAAQ,EAAG,EAAGgB,EAAGP,EAAG,EAAG,EAAGO,EAAEP,GAI1CG,GADAC,EADYZ,EAAImB,aAAa,EAAE,EAAEJ,EAAEP,GACZF,MACHK,OAAS,EAE7BL,GACEQ,MAAOC,IAAEP,KACTY,QAEFX,EAAI,EACJI,EAAI,EACA,EACEJ,EAAIE,GAERE,EAAID,EADJF,EAAQ,EAAID,GAEZF,EAAIK,IAAaF,GACjBL,EAAIO,IAAaF,GACjBN,EAAIQ,IAAaF,GACjBJ,EAAKc,IAAIC,MAAMR,IAAEN,IAAEF,IAAED,MACrBK,IAEF,OAAOH,aAGT,IClDAgB,EAAAC,OAAAC,QAAA,SAAAC,GAAA,QAAAhB,EAAA,EAAAA,EAAAiB,UAAAf,OAAAF,IAAA,KAAAkB,EAAAD,UAAAjB,GAAA,QAAAmB,KAAAD,EAAAJ,OAAAM,UAAAC,eAAAC,KAAAJ,EAAAC,KAAAH,EAAAG,GAAAD,EAAAC,IAAA,OAAAH,GAGAO,GACEC,YAAY,EACZC,OAAQ,SAACC,EAAeC,GACtB,IAAA9B,WAAAgB,KACEc,EAAQ9B,MACR+B,OACEC,KAAM,iBACNC,IAAK,OAGPC,IACEC,MAAO,SAACrD,EAAIsD,GACV,IAAAC,SAAKvD,EAAGwD,aAAa,WACrBD,EAAK,IAAIE,EAAA,aACNC,KAAK1D,EAAI,GACV2D,QAAS,IAEXJ,EAAGG,KAAK1D,EAAI,GACV4D,EAAG,GACHC,KAAMJ,EAAA,QAAQK,QAAQC,OAAO,EAAG,IAChCC,WAAYV,GACX,WAETP,EAAc,mBAAoB7B,EAAM8B,EAAQiB,sDCApDC,EAAA/B,OAAAC,QAAA,SAAAC,GAAA,QAAAhB,EAAA,EAAAA,EAAAiB,UAAAf,OAAAF,IAAA,KAAAkB,EAAAD,UAAAjB,GAAA,QAAAmB,KAAAD,EAAAJ,OAAAM,UAAAC,eAAAC,KAAAJ,EAAAC,KAAAH,EAAAG,GAAAD,EAAAC,IAAA,OAAAH,GAMA8B,GAEEC,YAAaC,iBAAkBzB,GAE/B1B,KAAM,kBACJoD,SACAC,SACAC,WAAY,IAEdC,QAAS,kBACJC,KAACC,cAENC,SACED,WAAY,WACV,IAAAtD,EAAAwD,EAAAC,EAAAC,EAAAC,EACA,IADAN,KAACO,SAAU,EACXD,KAAS3D,EAAAyD,EAAA,EAAAC,EAAAL,KAAAF,WAAA,GAAAO,EAAAD,EAAAC,EAAAD,EAAAC,EAAA1D,EAAA,GAAA0D,IAAAD,MACPD,GAAK,IAAIK,MAAOC,UAAU9D,EAG1BqD,KAACJ,MAAMrC,MACL4C,GAAIA,EACJO,OAAQC,EAAArE,EAAMkC,KAAKoC,WACnBC,OAAQF,EAAArE,EAAMwE,MAAMD,SACpBE,MAAOJ,EAAArE,EAAM0E,MAAMC,QACnBC,WAAW,WACV,CAACf,IAEF,IAAAgB,EAAAC,WAAO,uBAAC,IAAAC,KAAAC,EAAA,EAAAC,GAAAC,EAAAxB,KAAAJ,OAAA/C,OAAAyE,EAAAC,EAAAD,aAA4BnB,KAAMA,UAAlCgB,wBAAsC,GAE9CM,EAAAnF,EAAMoF,8CAA8CvB,KAAMwB,KAAMC,IAC9D,IAAAzF,KAAM,IAAI0F,OACNC,OAAS,KACX9B,KAAC+B,KAAK/B,KAACJ,MAAOI,KAACJ,MAAMoC,QAAQZ,GAA7B5B,KACE4B,GACAF,UAAWU,EAAEK,QAAQC,gBAEzB/F,EAAIgG,IAAMP,EAAEK,QAAQC,cAEpBE,MAAOC,IACPC,QAAQC,IAAIF,GACZrC,KAACwC,QAAQxC,KAACJ,MAAOI,KAACJ,MAAMoC,QAAQZ,OAfjC,CAACjB,cAqBRsC,QAAS,SAACrB,UACRA,EAAKjB,KAAOH,KAAC0C,WACb1C,KAACJ,MAAMrC,KAAK6D,IAEduB,WAAY,SAACvB,UACXA,EAAKwB,MAAQ5C,KAAC6C,IAAIC,uBAAuB1B,EAAKjB,MAC9CiB,EAAKnF,OAAS,UFjClB8G,YAAa3B,GAACpB,KAACoB,OACbpB,KAACgD,OAAS,IACVhD,KAACiD,OAAS,IACVjD,KAACkD,OAAS,IAAIrB,MACd7B,KAACkD,OAAOC,YAAc,YACtBnD,KAACkD,OAAOpB,OAAS9B,KAACoD,KAAKC,KAAKrD,MAC5BA,KAACkD,OAAOf,IAAMnC,KAACoB,KAAKF,UAEtB6B,KAAOO,GACL,IAAAC,EAAAC,SAAAxD,KAACyD,EAAIC,SAASrF,cAAc,UAC5B2B,KAAC9D,IAAM8D,KAACyD,EAAEE,WAAW,MACrB3D,KAAC4D,aAAeF,SAASZ,uBAAuB9C,KAACoB,KAAKjB,aACtDH,KAAC6D,QAAUH,SAASrF,cAAc,UAClC2B,KAAC6D,QAAQ3G,MAAQ8C,KAAC4D,aAAaE,YAC/B9D,KAAC6D,QAAQ1G,OAAS6C,KAAC4D,aAAaG,aAChCP,EAAOxD,KAAC6D,QAAQF,WAAW,MAC3BJ,EAAYxI,EAASiF,KAAC6D,QAASL,EAAMxD,KAACkD,OAAQ,EAAG,MAC/CjG,EAAD+C,KAAC/C,EAAGP,EAADsD,KAACtD,GAAK6G,EAAUvG,MACpBgD,KAACgE,OAAST,EAAUjG,IAAI2G,IAAI,SAACrC,iBAAcA,EAAE7E,KAAK6E,EAAEnF,KAAKmF,EAAErF,KAAKqF,EAAEtF,OAE/D0D,KAACkE,gBAEJlE,KAACoB,KAAKwB,MAAMuB,cAAcC,YAAYpE,KAACyD,GAGzCV,gBACE,IAAAU,EAAA9G,EAAAyD,EAAAkB,EAAA+C,EAAArI,EAAAsI,EAAAjE,EAAAmB,EAeA,IAfAxB,KAACuE,OAASvE,KAAC4D,aAAaY,wBACxBxE,KAACyD,EAAEgB,MAAMC,SAAW,WAEpB1E,KAACyD,EAAEvG,MAAQ8C,KAACuE,OAAOrH,MAAgB,EAAR8C,KAACgD,OAC5BhD,KAACyD,EAAEtG,OAAS6C,KAACuE,OAAOpH,OAAiB,EAAR6C,KAACgD,SAC7BhH,OAAMD,IAADiE,KAACjE,KAAOjB,EAAUkF,KAAC4D,eAEzB5D,KAACyD,EAAEgB,MAAM1I,OAASiE,KAACjE,IAAIiE,KAACgD,WACxBhD,KAACyD,EAAEgB,MAAMzI,QAAUA,EAAKgE,KAACgD,WACzBhD,KAACyD,EAAEgB,MAAME,QAAU,OAEnB3E,KAAC4E,WAEDtD,EAAI,EACJtB,KAAC9D,IAAI2I,UAAU,EAAE,EAAE7E,KAACyD,EAAEvG,MAAM8C,KAACyD,EAAEtG,QACtBR,EAAA0H,EAAA,EAAAhE,EAAAL,KAAAtD,EAAA,GAAA2D,EAAAgE,EAAAhE,EAAAgE,EAAAhE,EAAA1D,EAAA,GAAA0D,IAAAgE,MACP,IAASjE,EAAAkE,EAAA,EAAA9C,EAAAxB,KAAA/C,EAAA,GAAAuE,EAAA8C,EAAA9C,EAAA8C,EAAA9C,EAAApB,EAAA,GAAAoB,IAAA8C,MACPtE,KAAC9D,IAAI4I,UAAY9E,KAACgE,OAAO1C,GACzBtB,KAAC9D,IAAI6I,aACLtB,GACE7B,EAAGxB,EAAEJ,KAAC6D,QAAQ3G,MAAM8C,KAAC/C,EAAI+C,KAACgD,OAAShD,KAAC6D,QAAQ3G,MAAM8C,KAAC/C,EAAE,EACrDiC,EAAGvC,EAAEqD,KAAC6D,QAAQ1G,OAAO6C,KAACtD,EAAIsD,KAACgD,OAAShD,KAAC6D,QAAQ3G,MAAM8C,KAAC/C,EAAE,EACtDF,EAAGiD,KAAC6D,QAAQ3G,MAAM8C,KAAC/C,EAAE,EAAE9B,KAAKE,SAAS,EACrC2J,SAAU,EACV7H,OAAQ,EACR8H,MAAO,EACPC,OAAQ,IACRC,MAAOnF,KAACgE,OAAO1C,KAEf8D,GAAKpK,EAAKyI,EAAE7B,EAAE5B,KAACiD,OAAQQ,EAAE7B,EAAE5B,KAACiD,QAC9BQ,EAAE4B,GAAKrK,EAAKyI,EAAEvE,EAAEc,KAACiD,OAAQQ,EAAEvE,EAAEc,KAACiD,QAC9BjD,KAAC4E,QAAQrH,KAAKkG,GACdzD,KAAC9D,IAAIoJ,IAAI7B,EAAE7B,EAAG6B,EAAEvE,EAAGuE,EAAE1G,EAAG,EAAG,EAAI5B,KAAKoK,IAAI,GACxCvF,KAAC9D,IAAIsJ,OACLlE,IAE8B,mBAAZtB,KAACyF,SAApBzF,KAACyF,UAIN1C,UACE,IAAAU,EAAA9G,EAAA0H,EAAA9C,EAAAlB,EAAAC,EACA,IADAN,KAAC9D,IAAI2I,UAAU,EAAE,EAAE7E,KAACyD,EAAEvG,MAAM8C,KAACyD,EAAEtG,QAC/BmD,KAAA3D,EAAA0H,EAAA,EAAA9C,GAAAlB,EAAAL,KAAA4E,SAAA/H,OAAAwH,EAAA9C,EAAA5E,IAAA0H,SACErE,KAAC9D,IAAIwJ,YAAc,EAAIjC,EAAEuB,SACzBhF,KAAC9D,IAAI4I,UAAYrB,EAAE0B,MACnBnF,KAAC9D,IAAI6I,YACL/E,KAAC9D,IAAIoJ,IAAI7B,EAAE7B,EAAG6B,EAAEvE,EAAGuE,EAAE1G,GAAG,EAAE0G,EAAEuB,UAAW,EAAG,EAAI7J,KAAKoK,IAAI,UACvDvF,KAAC9D,IAAIsJ,mBExCoBpE,GACzBA,EAAKnF,OAAOwJ,QAAUzF,KAAC2F,cAActC,KAAKrD,KAAGoB,IAE/CuE,cAAe,SAACvE,GACd,IAAA9F,EAAAuD,SAAAvD,EAAK8F,EAAKwB,OAER7G,IAAK,IAEP8C,EAAK,IAAIE,EAAA,aAEN6G,IAAIxE,EAAKnF,OAAOwH,GAAIkB,QAAS,UAChC9F,EAAG+G,IAAItK,GAAKuK,WAAY,SAExBhH,EAAGiH,OAAO1E,EAAKnF,OAAOwH,EAAG,GAAIxE,QAAQ,IAAKA,QAAQ,IAElDJ,EAAGkH,GAAGzK,EAAGwH,cAAc,UAAW,IAChC7D,QAAS,GACR,OAEHJ,EAAGkH,GAAGzK,EAAI,GACR4D,OAAO5D,EAAGyI,aAAa,IACvBiC,MAAO,IACP/G,SAAU,EAEVE,KAAM8G,KAAKC,UAEX5G,WAAY,KAEVT,EAAG+G,IAAItK,GAAKuK,WAAY,UACxB7F,KAACJ,MAAMuG,OAAOnG,KAACJ,MAAMoC,QAAQZ,GAAO,KACrC,OAEHvC,EAAGkH,GAAG3E,EAAKnF,OAAO2I,QAAS,GACzBhD,EAAIwE,GAAShF,EAAKnF,OAAO2I,QAAQwB,GAAMhB,GACvClG,EAAIkH,GAAShF,EAAKnF,OAAO2I,QAAQwB,GAAMf,GAEvCL,SAAU,EACVqB,SAAUjF,EAAKnF,OAAOqK,QAAQjD,KAAKjC,EAAKnF,QACxCqD,WAAY,KAEV,GADA8B,EAAKnF,OAAOwH,EAAE8C,SACXvG,KAACJ,MAAM/C,OAAS,SACjByF,QAAQC,IAAIvC,KAACF,WAAa3E,KAAKC,MAAM,EAAkB,EAAdD,KAAKE,WAAe,GAC1D2E,KAACC,eACP,UC5HTuG,GADiBpI,OAFjB,WAA0B,IAAAqI,EAAAzG,KAAa0G,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAO3G,GAAA,aAAgByG,EAAA,kBAAuBnC,OAAQE,QAAA8B,EAAA7G,MAAA/C,OAAA,iBAAkDiK,OAAS3G,GAAA,UAAcsG,EAAAM,GAAAN,EAAA,eAAArF,EAAAzE,GAAqC,OAAAiK,EAAA,OAAiB9I,IAAAsD,EAAAjB,GAAA6G,YAAA,OAAAF,OAAsC3G,GAAA,QAAAiB,EAAAjB,GAAA8G,SAAA7F,EAAAjB,MAAuCiB,EAAAF,UAAiEuF,EAAAS,KAAjEN,EAAA,MAA6BO,aAAaC,aAAA,YAAuBX,EAAAY,GAAA,SAAAjG,EAAA,UAAAwF,EAAA,OAAsDI,YAAA,UAAoBJ,EAAA,WAAgBI,YAAA,QAAAvC,MAAA,wBAAArD,EAAAF,UAAA,MAAuE0F,EAAA,WAAgBI,YAAA,cAAwBJ,EAAA,UAAelI,IAAI4I,MAAA,SAAAC,GAAyBd,EAAA9D,WAAAvB,OAAuBqF,EAAAY,GAAA,OAAAT,EAAA,UAA6BlI,IAAI4I,MAAA,SAAAC,GAAyBd,EAAA9D,WAAAvB,OAAuBqF,EAAAY,GAAA,OAAAT,EAAA,UAA6BI,YAAA,SAAAtI,IAAyB4I,MAAA,SAAAC,GAAyBd,EAAA9D,WAAAvB,OAAuBqF,EAAAY,GAAA,SAAAT,EAAA,WAAgCI,YAAA,SAAmBJ,EAAA,OAAYI,YAAA,SAAAF,OAA4B3E,IAAAf,EAAAP,UAAmB+F,EAAA,OAAYI,YAAA,SAAmBJ,EAAA,OAAYI,YAAA,UAAoBP,EAAAY,GAAAZ,EAAAe,GAAApG,EAAAL,UAAA6F,EAAA,OAAyCI,YAAA,WAAqBP,EAAAY,GAAA,MAAAZ,EAAAe,GAAApG,EAAAV,iBAAA+F,EAAAS,WAAuD,IAEjoCO,oBCejBC,QAEA,kBAGAjI,QCnBAkI,EAAA,OAaAC,CACAnI,EACA+G,GATA,EATA,SAAAqB,GACAF,EAAA,SAYA,KAEA,MAUA,UCtBAG,GADiB1J,OAFjB,WAA0B,IAAasI,EAAb1G,KAAa2G,eAA0BC,EAAvC5G,KAAuC6G,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAO3G,GAAA,SAAYyG,EAAA,WAAnG5G,KAAmGqH,GAAA,KAAAT,EAAA,OAAsCE,OAAO3G,GAAA,aAAA4H,MAAA,6BAAAC,QAAA,SAAwEpB,EAAA,QAAAA,EAAA,UAA0BE,OAAO3G,GAAA,YAAeyG,EAAA,kBAAuBE,OAAOmB,GAAA,gBAAAC,aAAA,IAAAC,OAAA,UAAtSnI,KAA+VqH,GAAA,KAAAT,EAAA,iBAAkCE,OAAOmB,GAAA,OAAAG,KAAA,SAAAC,OAAA,oDAAsF,YAEveZ,oBCuBjBa,EAtBAX,EAAA,OAaAY,CACAb,EACAI,GATA,EATA,SAAAD,GACAF,EAAA,SAYA,KAEA,MAUA,QCtBAa,EAAA,EAAInJ,OAAOoJ,eAAgB,EAE3B,IAAID,EAAA,GACFlN,GAAI,OACJoN,SAAU,SACVhJ,YAAYgI,IAAKY","file":"static/js/app.02dd6425583984853720.js","sourcesContent":["import {TweenMax, Power0, Elastic} from 'gsap'\n\nrand = (min,max) ->\n  min + Math.floor( Math.random() * (max - min))\n\ngetOffset = (el) ->\n  _x = 0\n  _y = 0\n  while el and !isNaN(el.offsetLeft) and !isNaN(el.offsetTop)\n    _x += el.offsetLeft - (el.scrollLeft)\n    _y += el.offsetTop - (el.scrollTop)\n    el = el.offsetParent\n  {\n    top: _y\n    left: _x\n  }\n\npixelate = (canvas, ctx, img, ind, v) ->\n  # ctx.mozImageSmoothingEnabled = false\n  # ctx.webkitImageSmoothingEnabled = false\n  # ctx.imageSmoothingEnabled = false\n  size = v * 0.01\n  w = Math.floor canvas.width * size\n  h = Math.floor canvas.height * size\n  ctx.drawImage img, 0, 0, w, h\n  ctx.drawImage canvas, 0, 0, w, h, 0, 0, w,h\n\n  imageData = ctx.getImageData 0,0,w,h\n  pixelArray = imageData.data\n  length = pixelArray.length / 4\n\n  data = {\n    size: {w,h}\n    arr: []\n  }\n  i = 0\n  r = 0\n  c = 0\n  while i < length\n    index = 4 * i\n    r = pixelArray[index]\n    g = pixelArray[++index]\n    b = pixelArray[++index]\n    a = pixelArray[++index]\n    data.arr.push {r,g,b,a}\n    i++\n\n  return data\n\n\nexport class Canvas\n  constructor: (@card) ->\n    @OFFSET = 300\n    @SPREAD = 300\n    @$image = new Image\n    @$image.crossOrigin = \"Anonymous\"\n    @$image.onload = @init.bind @\n    @$image.src = @card.image_src\n\n  init: (e)\t->\n    @c = document.createElement 'canvas'\n    @ctx = @c.getContext '2d'\n    @$card__image = document.querySelector \"#card-#{@card.id} .thumb\"\n    @hCanvas = document.createElement 'canvas'\n    @hCanvas.width = @$card__image.offsetWidth\n    @hCanvas.height = @$card__image.offsetHeight\n    hCtx = @hCanvas.getContext '2d'\n    colorData = pixelate @hCanvas, hCtx, @$image, 1, 10\n    {@w,@h} = colorData.size\n    @colors = colorData.arr.map (x) -> \"rgba(#{x.r},#{x.g},#{x.b},#{x.a})\"\n\n    do @prepareCanvas\n    # document.body.appendChild @c\n    @card.$card.parentElement.appendChild @c\n\n\n  prepareCanvas: ->\n    @imgPos = @$card__image.getBoundingClientRect()\n    @c.style.position = 'absolute'\n\n    @c.width = @imgPos.width + @OFFSET*2\n    @c.height = @imgPos.height + @OFFSET*2\n    {left,@top} = getOffset @$card__image\n\n    @c.style.top = \"#{@top-@OFFSET}px\"\n    @c.style.left = \"#{left-@OFFSET}px\"\n    @c.style.display = 'none'\n\n    @circles = []\n\n    k = 0\n    @ctx.clearRect 0,0,@c.width,@c.height\n    for i in [0...@h]\n      for j in [0...@w]\n        @ctx.fillStyle = @colors[k]\n        @ctx.beginPath()\n        c = {\n          x: j*@hCanvas.width/@w + @OFFSET + @hCanvas.width/@w/2\n          y: i*@hCanvas.height/@h + @OFFSET + @hCanvas.width/@w/2\n          r: @hCanvas.width/@w/2*Math.random()*2\n          progress: 0\n          height: 0\n          alpha: 1\n          dAlpha: 0.97\n          color: @colors[k]\n        }\n        c.dx = rand c.x-@SPREAD, c.x+@SPREAD\n        c.dy = rand c.y-@SPREAD, c.y+@SPREAD\n        @circles.push c\n        @ctx.arc c.x, c.y, c.r, 0, 2 * Math.PI, false\n        @ctx.fill()\n        k++\n\n    do @onReady if typeof @onReady is 'function'\n    return\n\n\n  animate: () ->\n    @ctx.clearRect(0,0,@c.width,@c.height)\n    for c,i in @circles\n      @ctx.globalAlpha = 1 - c.progress\n      @ctx.fillStyle = c.color\n      @ctx.beginPath()\n      @ctx.arc c.x, c.y, c.r*(1-c.progress), 0, 2 * Math.PI, false\n      @ctx.fill()\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/canvas.coffee","import './styles.sass'\nimport {TimelineMax, TweenMax, Power4, Elastic, Linear, Expo} from 'gsap'\n\nexport default {\n  functional: true\n  render: (createElement, context) ->\n    data = {\n      context.data...\n      props:\n        name: 'avf-transition'\n        tag: 'div'\n        # css: true\n        # appear: true\n      on:\n        enter: (el, done) ->\n          id = el.getAttribute 'avf-id'\n          tl = new TimelineMax\n          tl.from el, 1, {\n            opacity: 0\n          }\n          tl.from el, 1, {\n            y: 30\n            ease: Elastic.easeOut.config(1, 0.3)\n            onComplete: done\n          }, '-=1'\n    }\n    createElement 'transition-group', data, context.children\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/AVF-Transition/index.coffee","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {TimelineMax, TweenMax} from 'gsap'\nimport {Canvas} from '@/lib/canvas.coffee'\nimport AVFTransition from '@/components/AVF-Transition/index.coffee'\nimport axios from 'axios'\nimport faker from 'faker/locale/en'\n\nexport default {\n\n  components: {'avf-transition': AVFTransition}\n\n  data: ->\n    cards: []\n    cardz: []\n    cardsCount: 6\n\n  created: ->\n    do @fetchCards\n\n  methods:\n    fetchCards: ->\n      @loading = true\n      for i in [0...@cardsCount]\n        id = new Date().getTime()+i\n        # @cardz.push\n        #   id: id\n        @cards.push\n          id: id\n          author: faker.name.findName()\n          avatar: faker.image.avatar()\n          title: faker.lorem.words()\n          image_src: false\n        do (id) =>\n\n          card = (_i for _i in @cards when _i.id is id)[0]\n\n          axios.get(\"https://source.unsplash.com/random?sig=#{id}\").then((x) =>\n            img = new Image\n            img.onload = =>\n              @$set @cards, @cards.indexOf(card), {\n                card...\n                image_src: x.request.responseURL\n              }\n            img.src = x.request.responseURL\n            return\n          ).catch (err) =>\n            console.log err\n            @$delete @cards, @cards.indexOf(card)\n\n\n\n\n\n    addCard: (card) ->\n      card.id = ++@nextCardId\n      @cards.push card\n\n    removeCard: (card) ->\n      card.$card = @$el.querySelector \"#card-#{card.id}\"\n      card.canvas = new Canvas card\n      card.canvas.onReady = @animateRemove.bind @, card\n\n    animateRemove: (card) ->\n      el = card.$card\n      clipMask =\n        top: 0\n\n      tl = new TimelineMax\n\n      tl.set card.canvas.c, {display: 'block'}\n      tl.set el, {transition: 'none'}\n\n      tl.fromTo card.canvas.c, 1, {opacity:0}, {opacity:1}\n\n      tl.to el.querySelector('.thumb'), 0.1, {\n        opacity: 0\n      }, '-=1'\n\n      tl.to el, 1, {\n        y:\"-=#{el.offsetHeight/2}\"\n        scale: '0'\n        opacity: -1\n        # height: 0\n        ease: Expo.easeInOut\n        # onComplete: -> console.log '---------'\n        onComplete: =>\n          # card.canvas.c.remove()\n          tl.set el, {transition: '10.5s'}\n          @cards.splice @cards.indexOf(card), 1\n      }, '-=1'\n\n      tl.to card.canvas.circles, 3, {\n        x: (cind) => card.canvas.circles[cind].dx\n        y: (cind) => card.canvas.circles[cind].dy\n        # ease: Expo.easeInOut\n        progress: 1\n        onUpdate: card.canvas.animate.bind card.canvas\n        onComplete: =>\n          card.canvas.c.remove()\n          if @cards.length < 6\n            console.log @cardsCount = Math.floor(5 - Math.random()*5) or 2\n            do @fetchCards\n      }, '-=1'\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/Explode.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"explode\"}},[_c('avf-transition',{style:({ display: _vm.cards.length > 0 ? 'grid' : 'none' }),attrs:{\"id\":\"cards\"}},_vm._l((_vm.cards),function(card,i){return _c('div',{key:card.id,staticClass:\"card\",attrs:{\"id\":'card-'+card.id,\"avf-id\":card.id}},[(!card.image_src)?_c('h1',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\" 😎\")]):_vm._e(),(card.image_src)?_c('div',{staticClass:\"inner\"},[_c('section',{staticClass:\"thumb\",style:('background-image:url('+card.image_src+')')}),_c('section',{staticClass:\"btn-group\"},[_c('button',{on:{\"click\":function($event){_vm.removeCard(card)}}},[_vm._v(\"✈\")]),_c('button',{on:{\"click\":function($event){_vm.removeCard(card)}}},[_vm._v(\"♥\")]),_c('button',{staticClass:\"remove\",on:{\"click\":function($event){_vm.removeCard(card)}}},[_vm._v(\"✘\")])]),_c('section',{staticClass:\"meta\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":card.avatar}}),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(card.title))]),_c('div',{staticClass:\"author\"},[_vm._v(\"by \"+_vm._s(card.author))])])])]):_vm._e()])}))],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6a7c7db1\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Explode.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <Explode/>\n    <svg id=\"svg-liquid\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">\n      <defs>\n        <filter id=\"liquid\">\n          <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"6\" result=\"blur\" />\n          <feColorMatrix in=\"blur\" mode=\"matrix\" values=\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 50 -10\"/>\n        </filter>\n      </defs>\n    </svg>\n  </div>\n</template>\n\n<script>\nimport Explode from './components/Explode'\n\nexport default {\n  name: 'app',\n  components: {\n    Explode\n  }\n}\n</script>\n\n<style lang=\"sass\">\n\n  @import './colors.sass'\n\n  body\n    background: $color1\n    margin: 0\n\n  button:focus\n    outline: 0\n\n  #app\n    font-family: 'Avenir', Helvetica, Arial, sans-serif\n    -webkit-font-smoothing: antialiased\n    -moz-osx-font-smoothing: grayscale\n    overflow: hidden\n    color: #fff\n\n  #svg-liquid\n    position: absolute\n    top: -999px\n    visibility: hidden\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a7c7db1\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"indentedSyntax\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Explode.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!coffee-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Explode.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6a7c7db1\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Explode.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Explode.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Explode'),_vm._v(\" \"),_c('svg',{attrs:{\"id\":\"svg-liquid\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\"}},[_c('defs',[_c('filter',{attrs:{\"id\":\"liquid\"}},[_c('feGaussianBlur',{attrs:{\"in\":\"SourceGraphic\",\"stdDeviation\":\"6\",\"result\":\"blur\"}}),_vm._v(\" \"),_c('feColorMatrix',{attrs:{\"in\":\"blur\",\"mode\":\"matrix\",\"values\":\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 50 -10\"}})],1)])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-02f41a80\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-02f41a80\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"indentedSyntax\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-02f41a80\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\nnew Vue(\n  el: '#app'\n  template: '<App/>'\n  components: App: App)\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.coffee"],"sourceRoot":""}